## 编程作业

不用合并之前的代码，但sys_get_time还得实现。

和文档上的银行家算法不太同，主要参考[【OS】死锁检测算法_死锁检测算法代码-CSDN博客](https://blog.csdn.net/weixin_44246009/article/details/108548948)。

要理解这里的资源其实就是互斥锁和信号量，我们主要是围绕这两个资源来构建分配矩阵和需求矩阵。在每个mutex和sem里记录分给了哪些任务的tid以及还有哪些任务tid在等待就可以得到allocation和need。

## 问答作业

1. 用户栈、内核栈，物理页帧、打开的文件等等。不需要，因为它们都是由主线程fork出来的，主线程结束它们也会自动回收。
2. 区别是Mutex1 在唤醒等待任务之前就将锁设置为未锁定状态，Mutex2 只有在没有等待任务时才将锁设置为未锁定状态。Mutex1可能会导致饥饿状态。
